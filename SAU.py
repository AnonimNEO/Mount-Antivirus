#–î–∞–Ω–Ω–æ–µ –°–≤–æ–±–æ–¥–Ω–æ–µ –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ GPL-2.0-only –∏–ª–∏ GPL-2.0-or-later
#–í—ã –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å, –≤–∑–∏–º–∞—Ç—å –ø–ª–∞—Ç—É –∑–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –∞–∫—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–ø–∏–∏, –∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—É—é –∑–∞—â–∏—Ç—É –≤ –æ–±–º–µ–Ω –Ω–∞ –ø–ª–∞—Ç—É (–≤ —Å–ª—É—á–∞–µ –µ—ë —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è), –Ω–æ –≤—ã –æ–±—è–∑–∞–Ω—ã –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–≤–æ–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã!
#–î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –î–ê–ù–ù–û–ì–û –°–í–û–ë–û–î–ù–û–ì–û –ü–†–û–ì–†–ê–ú–ú–ù–û–ì–û –û–ë–ï–°–ü–ï–ß–ï–ù–ò–Ø - –í–ê–ú –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø –ü–†–ò–ù–Ø–¢–ò–ï –õ–ò–¶–ï–ù–ó–ò–ò Gnu GPL v2.0 –∏–ª–∏ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏.
#–í –°–õ–£–ß–ê–ï –†–ê–°–ü–†–û–°–¢–†–ê–ù–ï–ù–ò–Ø –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ô –ü–†–û–ì–†–ê–ú–ú–´ –ò/–ò–õ–ò –ú–û–î–ï–†–ù–ò–ó–ò–†–û–í–ê–ù–ù–û–ô –í–ï–†–°–ò–ò –ò/–ò–õ–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –ò–°–•–û–î–ù–ò–ö–û–í –í –°–í–û–ï–ô –ü–†–û–ì–†–ê–ú–ú–ï - –í–´ –û–ë–Ø–ó–ê–ù–´ –ó–ê–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–¢–¨ –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï –ò –ü–†–ï–î–û–°–¢–ê–í–ò–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø–ú –í–û–ó–ú–û–ñ–ù–û–°–¢–¨ –ü–û–õ–£–ß–ò–¢–¨ –ò–°–•–û–î–ù–ò–ö–ò –í–ê–®–ï–ô –ö–û–ü–ò–ò –ü–†–û–ì–†–ê–ú–ú–´, –ê –¢–ê–ö–ñ–ï –£–ö–ê–ó–ê–¢–¨ –ê–í–¢–û–†–°–¢–í–û –î–ê–ù–ù–û–ì–û –ü–†–û–ì–†–ê–ú–ú–ù–û–ì–û –û–ë–ï–°–ü–ï–ß–ï–ù–ò–Ø.
#–ü–†–ò –†–ê–°–ü–†–û–°–¢–†–ê–ù–ï–ù–ò–ò –ü–†–û–ì–†–ê–ú–ú–´ - –í–´ –û–ë–Ø–ó–ê–ù–´ –ü–†–ï–î–û–°–¢–ê–í–ò–¢–¨ –í–°–ï –¢–ï–ñ–ï –ü–†–ê–í–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Æ –ß–¢–û –ü–†–ï–î–û–°–¢–ê–í–õ–Ø–ï–¢ –õ–ò–¶–ï–ù–ó–ò–Ø GPL.
#–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é –ª–∏—Ü–µ–Ω–∑–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –§–æ–Ω–¥–∞ –°–≤–æ–±–æ–¥–Ω–æ–≥–æ –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è - https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
#–ò–ª–∏ –≤ —Ñ–∞–π–ª–µ COPYING –≤ –∞—Ä—Ö–∏–≤–µ —Å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã
#Copyleft üÑØ NEO Organization Departament K 2024 - 2025
#Coded by @AnonimNEO (Telegram)

#–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
from tkinter import ttk, filedialog, messagebox, simpledialog
import tkinter as tk
#–î–∞—Ç–∞ –∏ –í—Ä–µ–º—è
from datetime import datetime
#–†–∞–±–æ—Ç–∞ —Å —Ä–µ–µ—Å—Ç—Ä–æ–º
import winreg as reg
#–†–∞–±–æ—Ç–∞ —Å –§–∞–π–ª–∞–º–∏
import win32com.client
import shutil
import os
#–†–∞–±–æ—Ç–∞ —Å –ê—Ä—Ö–∏–≤–∞–º–∏
import zipfile
#–†–∞–±–æ—Ç–∞ —Å –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
import ast
import re
#–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
from loguru import logger

#–ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞
import config
#–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥
from OF import run_command
#–°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–≥–∞–ª–æ–≤–∫–∏
from RS import random_string

settings_and_update_version = "1.0.6 Beta"

SETTINGS_BACKUP_PREFIX = "settings_backup"
ARCHIVE_PATH = "code_mount.zip"
ARCHIVE_PASSWORD = b"0000"
COMPILING_COMMAND = f"python -m nuitka --follow-imports --standalone --windows-console-mode=disable --onefile --enable-plugin=tk-inter --windows-icon-from-ico=icon\\T_icon.ico --lto=no T.py"
config_log_path = "Mount_Setup_Log.txt"

def compiling_mount():
    logger.info(f"–ó–∞–ø—É—Å–∫ –ö–æ–º–ø–∏–ª—è—Ü–∏–∏...\n–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã: {COMPILING_COMMAND}")
    if run_command(COMPILING_COMMAND) == 0:
        logger.info("–ö–æ–º–ø–∏–ª—è—Ü–∏—è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Trey –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        return True



def save_settings(settings_data, config_comments=None):
    if config_comments is None:
        config_comments = {} #–ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å

    try:
        with open("config.py", "w", encoding="utf-8") as config_file:
            for key, value in settings_data.items():
                #–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
                comment = config_comments.get(key)
                if comment:
                    #–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "# "
                    config_file.write(f"# {comment}\n") 
                    
                #–ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–∞–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
                if isinstance(value, (list, dict, set)):
                    #–ò—Å–ø–æ–ª—å–∑—É–µ–º repr –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
                    config_file.write(f"{key} = {repr(value)}\n")
                else:
                    #–ò—Å–ø–æ–ª—å–∑—É–µ–º repr –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤
                    config_file.write(f"{key} = {repr(value)}\n")

                #–î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
                config_file.write("\n") 

        logger.info("SAU - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ config.py")
        return True
    except Exception as e:
        comment = f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:\n{e}"
        logger.error(f"SAU - {comment}")
        messagebox.showerror(random_string(), comment)
        return False



#–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
def backup_settings():
    try:
        backup_filename = f"{SETTINGS_BACKUP_PREFIX}{datetime.now().strftime("%d%m%Y_%H%M%S")}.py"
        backup_filepath = os.path.join(os.path.expanduser("~"), "Desktop", backup_filename)

        shutil.copy("config.py", backup_filepath)
#        with open(backup_filepath, "w") as backup_config:
#            for var_name, var_value in config.__dict__.items():
#                #–û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —Å–æ–∑–¥–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∏–¥–∂–µ—Ç
#                if var_name in [
#                    "settings_path",
#                    "log_path",
#                    "images_path",
#                ]:
#                    var_type = "str_path"
#                elif var_name in ["clyth", "time_to_restart", "ultimate_load_cpu", "ultimate_load_ram"]:
#                    var_type = "int"
#                elif var_name in ["message", "alert_sound", "reboot_os", "force_software", "animation_defolt"]:
#                    var_type = "bool"
#                elif var_name in ["bad_process", "exceptions_proc"]:
#                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–º.
#                    if isinstance(var_value, dict):
#                        var_type = "dict"
#                    else:
#                        var_type = "str_list"
#                else:
#                    var_type = "str"
#
#                #–û–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫—Ä–∏—Ç–∏—á–Ω–æ–π
#                critical = True if var_name in ["settings_path", "log_path", "images_path", "sound_alert_path", "clyth", "time_to_restart", "ultimate_load_cpu", "ultimate_load_ram", "message", "alert_sound", "reboot_os", "force_software", "bad_process", "exceptions_proc"] else False
#
#                #–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∑–∞–ø–∏—Å–∏
#                if isinstance(var_value, bool):
#                    value_str = str(var_value)
#                elif isinstance(var_value, (int, float)):
#                    value_str = str(var_value)
#                elif isinstance(var_value, list):
#                    value_str = str(var_value)
#                else:
#                    value_str = str(var_value)
#
#                backup_config.write(f"{var_name}\n")
#                backup_config.write(f"Type: {var_type}\n")
#                backup_config.write(f"Value: {value_str}\n")
#                backup_config.write(f"Critical: {critical}\n")
#                backup_config.write("---\n") #–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
        logger.info(f"SAU - –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–æ–∑–¥–∞–Ω–∞ –ø–æ –ø—É—Ç–∏: {backup_filepath}")
        return backup_filepath
    except Exception as e:
        comment = f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:\n{e}"
        logger.error(f"SAU - {comment}")
        messagebox.showerror(random_string, comment)
        return 0



#–†–∞—Å–ø–∞–∫–æ–≤–∫–∏ –∞—Ä—Ö–∏–≤–∞
def extract_archive():
    try:
        if not os.path.exists(ARCHIVE_PATH):
            comment = f"–ê—Ä—Ö–∏–≤ {ARCHIVE_PATH} –Ω–µ –Ω–∞–π–¥–µ–Ω.\n–ü–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–µ –≤–æ–∑–º–æ–∂–Ω–∞."
            logger.error(f"SAU - {comment}")
            messagebox.showerror(random_string, comment)
            return False

        with zipfile.ZipFile(ARCHIVE_PATH, "r") as zip_ref:
            zip_ref.extractall("", pwd=ARCHIVE_PASSWORD)
        logger.info(f"SAU - –ê—Ä—Ö–∏–≤ {ARCHIVE_PATH} —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω")
        return True
    except zipfile.BadZipFile:
        comment = f"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∞—Ä—Ö–∏–≤–∞ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤."
        logger.error(f"SAU - {comment}")
        messagebox.showerror(random_string, comment)
        return False
    except Exception as e:
        comment = f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–µ –∞—Ä—Ö–∏–≤–∞: {e}"
        logger.error(f"SAU - {comment}")
        messagebox.showerror(random_string, comment)
        return False



def move_all_files(src_folder, dest_folder):
    #–ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –≤ –¥—Ä—É–≥—É—é –ø–∞–ø–∫—É
    try:
        for item in os.listdir(src_folder):
            src_path = os.path.join(src_folder, item)
            dest_path = os.path.join(dest_folder, item)
            if os.path.isdir(src_path):
                shutil.copytree(src_path, dest_path)
            else:
                shutil.move(src_path, dest_path)
        print(f"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ {src_folder} –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ –≤ {dest_folder}.")
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤: {e}")



def copy_files():
    new_image_path = simpledialog.askstring(title=random_string(), prompt="–í–≤–µ–¥–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –∫—É–¥–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n–ù–∏—á–µ–≥–æ –Ω–µ –≤–≤–æ–¥–∏—Ç–µ –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ –≤ –Ω—É–∂–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ\n(–Ω–∞–ø—Ä–∏–º–µ—Ä –≤—ã –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É)")

    copy = 1
    if not new_image_path or new_image_path == None:
        copy = 0

    try:
        if copy == 1:
            move_all_files("info_image\\", new_image_path)
    except PermissionError:
        messagebox.warning(random_string(), f"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n–≤ –∫–∞—Ç–∞–ª–æ–≥ - {new_image_path}")
    except FileNotFoundError:
        messagebox.warning(random_string(), "–ù–µ–Ω–∞–π–¥–µ–Ω—ã —Ñ–∞–π–ª—ã –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è")
    except Exception as e:
        messagebox.error(random_string(), "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n–í–æ–∑–º–æ–∂–Ω–æ –≤—ã –≤–≤–µ–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –ø–µ—Ä–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.")
        return False

    global path_to_copy
    path_to_copy = simpledialog.askstring(title=random_string(), prompt="–í–≤–µ–¥–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –∫—É–¥–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª\n–≤–º–µ—Å—Ç–µ —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .exe!")

    if not path_to_copy or path_to_copy == None:
        return False

    try:
        shutil.copy("T.exe", path_to_copy)
    except PermissionError:
        messagebox.showwarning(random_string(), f"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ T.exe")
        return False
    except FileNotFoundError:
        messagebox.showwarning(random_string(), f"–ù–µ–Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª T.exe –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è")
        return False
    except Exception as e:
        messagebox.showerror(random_string(), f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ T.exe\n–í–æ–∑–º–æ–∂–Ω–æ –≤—ã –≤–≤–µ–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –ø–µ—Ä–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.")
        return False

    return True


#–°–æ–∑–¥–∞—ë–º –Ø—Ä–ª—ã–∫
def create_lnk(target_path, shortcut_name):
    try:
        #–ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Ä–∞–±–æ—á–µ–º—É —Å—Ç–æ–ª—É
        desktop_path = os.path.join(os.path.expanduser("~"), "Desktop")

        shortcut_path = os.path.join(desktop_path, f"{shortcut_name}.lnk")

        #–°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç Shell
        shell = win32com.client.Dispatch("WScript.Shell")

        #–°–æ–∑–¥–∞–µ–º —è—Ä–ª—ã–∫
        shortcut = shell.CreateShortCut(shortcut_path)
        shortcut.TargetPath = target_path
        shortcut.WorkingDirectory = os.path.dirname(target_path) #–†–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ —è—Ä–ª—ã–∫–∞
        shortcut.save() #–°–æ—Ö—Ä–∞–Ω—è–µ–º —è—Ä–ª—ã–∫

        logger.info(f"SAU - –Ø—Ä–ª—ã–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ.")
    except Exception:
        pass



#–î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
def add_to_autorun(target_path):
    try:
        #–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–ª—é—á —Ä–µ–µ—Å—Ç—Ä–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        registry_key = reg.OpenKey(reg.HKEY_LOCAL_MACHINE, "SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon\\", 0, reg.KEY_WRITE)

        #–ó–∞–º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        reg.SetValueEx(registry_key, "Userinit", 0, reg.REG_SZ, f"C:\\Windows\\System32\\userinit.exe, {target_path}")

        #–ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–ª—é—á —Ä–µ–µ—Å—Ç—Ä–∞
        reg.CloseKey(registry_key)
        logger.info(f"–ó–Ω–∞—á–µ–Ω–∏–µ Userinit —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ C:\\Windows\\System32\\userinit.exe, {target_path}")

        return True
    except Exception as e:
        logger.error(f"SAU - –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É:{e}")
        return False



#–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏
def preparing_for_recompilation(settings_data):
    backup_filepath = backup_settings()
    if not backup_filepath:
        return False

    if not save_settings(settings_data):
        return False

    if not extract_archive():
        return False

    if not compiling_mount():
        return False

    if not copy_files():
        return False

    create_lnk(path_to_copy, random_string())

    if messagebox.askyesno(random_string(), "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É?"):
        if not add_to_autorun(path_to_copy):
            messagebox.showerror(random_string(), f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É.")

    return True



#–ü—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—É—Ç—å —Å—Ç—Ä–æ–∫–æ–π
def validate_path(path):
    if not isinstance(path, str):
        return False, "–ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π."
    return True, ""



#–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–µ—Ä–º–µ–Ω–Ω–æ–π
def validate_int_with_limit(value, max_value):
    try:
        num = int(value)
        if 1 <= num <= max_value:
            return True, ""
        else:
            return False, f"–ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ {max_value}."
    except ValueError:
        return False, "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!"



#–ü—Ä–æ–≤–µ—Ä–∫–∞ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ —Å–ø–∏—Å–∫–æ–º
def validate_string_list(value):
    list_varning = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤–≤–µ–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ü–µ–ª–∏–∫–æ–º, –≤ —Ñ–æ—Ä–º–∞—Ç–µ: ["–∑–Ω–∞—á–µ–Ω–∏–µ1", "–∑–Ω–∞—á–µ–Ω–∏–µ2", –∏ —Ç.–¥"]'
    if not isinstance(value, str):
        return False, "–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π!"
    #–†–∞–∑—Ä–µ—à–∞–µ–º –∏–º–ø–æ—Ä—Ç –∫–∞–∫ —Å–ø–∏—Å–∫–æ–≤, —Ç–∞–∫ –∏ —Å–ª–æ–≤–∞—Ä–µ–π
    if not (value.startswith("[") and value.endswith("]")) and not (value.startswith("{") and value.endswith("}")):
        return False, list_varning
    try:
        ast.literal_eval(value)
        return True, ""
    except (SyntaxError, ValueError):
        return False, list_varning



#–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π
def validate_string(value):
    if not isinstance(value, str):
        return False, "–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π!"
    return True, ""



#–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω—ã—Ö
def create_input_widget(frame, variable_name, variable_type, default_value, row_num):
    label = ttk.Label(frame, text=variable_name)
    label.grid(row=row_num, column=0, padx=3, pady=1, sticky=tk.W)

    #–í–∞–ª–∏–¥–∞—Ü–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ Entry, –Ω–æ –µ–µ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
    validation_command = frame.register(lambda P, var_type=variable_type: validate_path(var_type))
    
    #row_increment - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è, —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –∑–∞–Ω—è–ª –≤–∏–¥–∂–µ—Ç (–æ–±—ã—á–Ω–æ 1, –Ω–æ 2, –µ—Å–ª–∏ –µ—Å—Ç—å –º–µ—Ç–∫–∞ –æ—à–∏–±–∫–∏ —Å–Ω–∏–∑—É)
    row_increment = 1

    #–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã
    var = tk.StringVar(value=str(default_value) if variable_type == "bool" or variable_type == "int" else default_value)
    widget = None
    column_span = 1 #–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1, –¥–ª—è str_path

    if variable_type == "bool":
        var.set(str(default_value))
        widget = ttk.Combobox(frame, textvariable=var, values=["True", "False"], state="readonly")
        column_span = 2

    elif variable_type == "int":
        var.set(str(default_value))
        widget = ttk.Entry(frame, textvariable=var, validate="key", validatecommand=(validation_command, "%P"))
        column_span = 2

    elif variable_type == "str_path":
        var.set(default_value)
        widget = ttk.Entry(frame, textvariable=var, validate="key", validatecommand=(validation_command, "%P"))

        def browse_path():
            path = filedialog.askdirectory()
            if path:
                var.set(path)

        #–ö–Ω–æ–ø–∫–∞ "–û–±–∑–æ—Ä" –∑–∞–Ω–∏–º–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü 2
        browse_button = ttk.Button(frame, text="–û–±–∑–æ—Ä", command=browse_path)
        browse_button.grid(row=row_num, column=2, padx=3, pady=1)
        #–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∑–∞–π–º–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ª–±–µ—Ü 1, –æ—Å—Ç–∞–≤–ª—è—è –º–µ—Å—Ç–æ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ 2.

    elif variable_type == "str_list":
        var.set(str(default_value))
        widget = ttk.Entry(frame, textvariable=var, validate="key", validatecommand=(validation_command, "%P"))
        column_span = 2

    else:
        var.set(default_value)
        widget = ttk.Entry(frame, textvariable=var, validate="key", validatecommand=(validation_command, "%P"))
        column_span = 2

    if widget:
        widget.grid(row=row_num, column=1, padx=3, pady=1, sticky=tk.EW, columnspan=column_span)

    #–°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∫–∏ –æ—à–∏–±–∫–∏
    error_label = ttk.Label(frame, text="", foreground="red")

    if column_span == 2:
        error_label.grid(row=row_num + 1, column=1, columnspan=2, padx=3, sticky=tk.W)
        row_increment = 2
    else:
        #–ï—Å–ª–∏ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ª–±–µ—Ü 1 (—Ç.–µ. –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "–û–±–∑–æ—Ä"), —Ç–æ –º–µ—Ç–∫—É –æ—à–∏–±–∫–∏ —Ä–∞–∑–º–µ—â–∞–µ–º –≤ —Å—Ç–æ–ª–±—Ü–µ 2 (–Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–µ)
        error_label.grid(row=row_num, column=2, padx=3, pady=1, sticky=tk.W)
        row_increment = 1 #–í–∏–¥–∂–µ—Ç –∑–∞–Ω—è–ª –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

    return var, widget, error_label, row_increment



#–ß—Ç–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
def read_config_comments():
    comments = {}
    current_comment = ""
    try:
        #–ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª config.py, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ
        config_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), "config.py")
        with open("config.py", "r", encoding="utf-8") as f:
            for line in f:
                stripped_line = line.strip()

                #–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–µ
                if stripped_line.startswith("#"):
                    #–£–¥–∞–ª—è–µ–º —Å–∏–º–≤–æ–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∏ –ø—Ä–æ–±–µ–ª—ã
                    current_comment = stripped_line[1:].strip()

                #–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–æ—Ö–æ–∂–∞ –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–¥–µ—Ä–∂–∏—Ç "=")
                elif "=" in stripped_line and not stripped_line.startswith("#"):
                    #–ò–∑–≤–ª–µ–∫–∞–µ–º –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ –∑–Ω–∞–∫–∞ "="
                    var_name_match = re.match(r"^\s*([a-zA-Z_]\w*)\s*=", stripped_line)
                    if var_name_match:
                        var_name = var_name_match.group(1)
                        if current_comment:
                            comments[var_name] = current_comment
                        else:
                            #–ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ—Ç, —Å—Ç–∞–≤–∏–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
                            comments[var_name] = ""
                        #–°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
                        current_comment = ""
    except FileNotFoundError:
        logger.error("SAU - –§–∞–π–ª config.py –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.")
    except Exception as e:
        logger.error(f"SAU - –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–∑ config.py:\n{e}")

    return comments



#–ì–ª–∞–≤–Ω–æ–µ –û–∫–Ω–æ
def settings_mount():
    #–°—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–∑ config.py
    config_comments = read_config_comments()

    window = tk.Tk()
    window.title(random_string())
    window.geometry("435x500")

    #–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞
    main_frame = ttk.Frame(window)
    main_frame.pack(fill="both", expand=True, padx=5, pady=5)

    canvas = tk.Canvas(main_frame, bd=0, highlightthickness=0)
    canvas.pack(side=tk.LEFT, fill="both", expand=True)

    scrollbar = ttk.Scrollbar(main_frame, orient=tk.VERTICAL, command=canvas.yview)
    scrollbar.pack(side=tk.RIGHT, fill="y")

    canvas.configure(yscrollcommand=scrollbar.set)
    #–ò—Å–ø–æ–ª—å–∑—É–µ–º bind_all –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∫–æ–ª–µ—Å–æ –º—ã—à–∏
    canvas.bind_all("<MouseWheel>", lambda e: canvas.yview_scroll(int(-1*(e.delta/120)), "units"))

    frame = ttk.Frame(canvas)
    #–°–æ–∑–¥–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –æ–∫–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ ID
    canvas_window_id = canvas.create_window((0, 0), window=frame, anchor="nw")

    #–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏: –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —Ö–æ–ª—Å—Ç–∞
    def on_canvas_configure(event):
        #–ò—Å–ø–æ–ª—å–∑—É–µ–º ID –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —à–∏—Ä–∏–Ω—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ñ—Ä–µ–π–º–∞ —Ä–∞–≤–Ω–æ–π —à–∏—Ä–∏–Ω–µ —Ö–æ–ª—Å—Ç–∞
        canvas.itemconfig(canvas_window_id, width=event.width)
        #–û–±–Ω–æ–≤–ª—è–µ–º –æ–±–ª–∞—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        canvas.configure(scrollregion=canvas.bbox("all"))

    canvas.bind("<Configure>", on_canvas_configure)

    notebook = ttk.Notebook(frame)
    notebook.pack(fill="both", expand=True, padx=5, pady=5)

    #–°–æ–∑–¥–∞–µ–º –≤–∫–ª–∞–¥–∫–∏
    general_tab = ttk.Frame(notebook)
    notebook.add(general_tab, text=f"SettingsAndUpdate - {settings_and_update_version}")

    #–†–∞–∑–¥–µ–ª –¥–ª—è –æ–±—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
    general_frame = ttk.Frame(general_tab)
    general_frame.pack(padx=0, pady=0, fill="x")

    general_frame.grid_columnconfigure(0, weight=0)
    general_frame.grid_columnconfigure(1, weight=1)
    general_frame.grid_columnconfigure(2, weight=0)

    #–°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤
    widgets = {}

    #–°–æ–∑–¥–∞–µ–º –≤–∏–¥–∂–µ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑ config.py
    row_counter = 0
    for var_name, var_value in config.__dict__.items():
        #–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        if var_name.startswith("__"):
            continue

        if var_name in globals() or var_name in locals():
            continue

        #–î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∫—É —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–∏–¥–∂–µ—Ç–∞
        comment_text = config_comments.get(var_name, "")
        if comment_text:
            comment_label = ttk.Label(general_frame, text=comment_text, foreground="gray")
            comment_label.grid(row=row_counter, column=0, columnspan=3, padx=5, pady=(2, 0), sticky=tk.W)
            row_counter += 1

        #–û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —Å–æ–∑–¥–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∏–¥–∂–µ—Ç
        if var_name in [
            "settings_path",
            "log_path",
            "images_path",
        ]:
            var_type = "str_path"
        elif var_name in ["clyth", "ultimate_load_cpu", "ultimate_load_ram", "time_sleep_to_scan", "time_to_update_process_list", "time_to_close_window", "time_sleep_to_close_question", "time_sleep_to_close_question2", ]:
            var_type = "int"
        elif var_name in ["message", "alert_sound", "reboot_os", "force_software", "animation_defolt"]:
            var_type = "bool"
        elif var_name in ["bad_process", "exception_process"]:
            var_type = "str_list"
        else:
            var_type = "str"

        var, widget, error_label, row_increment_step = create_input_widget(general_frame, var_name, var_type, var_value, row_counter)
        widgets[var_name] = {
            "widget": widget,
            "var": var,
            "type": var_type,
            "error_label": error_label,
            "comment": comment_text,
        }
        #–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –Ω–∞ 1 –∏–ª–∏ 2, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –µ—Å—Ç—å –ª–∏ –º–µ—Ç–∫–∞ –æ—à–∏–±–∫–∏ —Å–Ω–∏–∑—É
        row_counter += row_increment_step



    #–≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
    def export_settings():
        filepath = filedialog.asksaveasfilename(
        defaultextension=".txt",
        filetypes=[("Text files", "*.txt")],
        title=random_string(),
        )
        if not filepath:
            return

        try:
            with open(filepath, "w") as f:
                for var_name, widget_data in widgets.items():
                    value = widget_data["var"].get()
                    data_type = widget_data["type"]
                    critical = "True" if var_name in ["settings_path", "log_path", "images_path", "sound_alert_path", "cursor_path", "clyth", "time_to_restart", "ultimate_load_cpu", "ultimate_load_ram", "message", "alert_sound", "reboot_os", "force_software", "animation_defolt", "bad_process", "exceptions_proc"] else "False"
                    comment = widget_data.get("comment", "") #–ü–æ–ª—É—á–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

                    #–ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞
                    if comment:
                        f.write(f"#Comment: {comment}\n")

                    f.write(f"{var_name}\n")
                    f.write(f"Type: {data_type}\n")
                    f.write(f"Value: {value}\n")
                    f.write(f"Critical: {critical}\n")
                    f.write("---\n") #–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
            comment = f"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤: {filepath}"
            logger.info(f"SAU - {comment}")
            messagebox.showinfo(random_string, comment)
        except Exception as e:
            comment = f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫: {e}"
            logger.error(f"SAU - {comment}")
            messagebox.showerror(random_string, comment)



    #–ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
    def import_settings():
        filepath = filedialog.askopenfilename(
        filetypes=[("Text files", "*.txt")],
        title=random_string(),
        )

        if not filepath:
            return

        try:
            with open(filepath, "r") as f:
                lines = f.readlines()
                imported_settings = {}
                i = 0
                error_var = 0
                problem_var = [] #–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–±–æ—Ä–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
                while i < len(lines):
                    try:
                        line = lines[i].strip()
                        if not line or line.startswith("---"):
                            i += 1
                            continue

                        #–ß–∏—Ç–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
                        imported_comment = ""
                        if line.startswith("#Comment:"):
                            imported_comment = line.replace("#Comment: ", "")
                            i += 1
                            var_name = lines[i].strip()
                        else:
                            var_name = line

                        if not var_name: #–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø—É—Å—Ç–∞—è –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
                            i += 1
                            continue

                        data_type_line = lines[i+1].strip()
                        value_line = lines[i+2].strip()
                        critical_line = lines[i+3].strip()

                        data_type = data_type_line.replace("Type: ", "")
                        value = value_line.replace("Value: ", "")
                        critical = critical_line.replace("Critical: ", "").lower() == "true"

                        #–°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                        imported_settings[var_name] = (data_type, value, critical, imported_comment) 
                        i += 4
                        if i < len(lines) and lines[i].strip() == "---":
                            i += 1
                    except IndexError:
                        filed_str = f"–ü—Ä–æ–ø—É—â–µ–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ, –Ω–∞—á–∏–Ω–∞—è —Å: {lines[i].strip()}"
                        logger.error(f"SAU - {filed_str}")
                        #–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–µ
                        if messagebox.askyesno(random_string(), f"!–í–ù–ò–ú–ê–ù–ò–ï!\n–ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ —Ñ–∞–π–ª–µ\n–í–æ–∑–º–æ–∂–Ω–æ —Ñ–∞–π–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø–æ–≤—Ä–µ–∂–¥—ë–Ω –∏–ª–∏ –≤—ã –≤—ã–±—Ä–∞–ª–∏ –Ω–µ —Ç–æ—Ç —Ñ–∞–π–ª –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ.\n\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–º–ø–æ—Ä—Ç (–º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)?"):
                            i += 1
                            continue
                        else:
                            return #–û—Ç–º–µ–Ω–∞ –∏–º–ø–æ—Ä—Ç–∞

                #–û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∂–µ—Ç—ã
                for var_name, widget_data in widgets.items():
                    if var_name in imported_settings:
                        #–†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                        data_type, value, _, imported_comment = imported_settings[var_name] 

                        if data_type == "bool":
                            widget_data["var"].set(value)
                        elif data_type == "int":
                            widget_data["var"].set(value)
                        #elif data_type == "str_list":
                        #.. –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –æ–Ω–∞ –Ω—É–∂–Ω–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ ...
                        else:
                            widget_data["var"].set(value)

                        #–û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ —Å–ª–æ–≤–∞—Ä–µ widgets
                        widget_data["comment"] = imported_comment

                        #–°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
                        widget_data["error_label"].config(text="")
                    else:
                        logger.error(f"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è {var_name} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ —Ñ–∞–π–ª–µ –∏–º–ø–æ—Ä—Ç–∞.")
                        problem_var.append(var_name) #–î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫
                        error_var = 1

                if error_var == 1:
                    #–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
                    messagebox.showerror(random_string(), f"!–í–ù–ò–ú–ê–ù–ò–ï!\n–í —Ñ–∞–π–ª–µ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:\n{', '.join(problem_var)}\n–í–∏–¥–∏–º–æ —Ñ–∞–π–ª –∏–º–ø–æ—Ä—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤—ã–±—Ä–∞–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –¥–ª—è –±–æ–ª–µ–µ —Ä–∞–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.\n–ï—Å–ª–∏ –≤—ã –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—É—Ç—Å—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.")
                else:
                    messagebox.showinfo(random_string(), "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã.")

        except Exception as e:
            comment = f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:\n{e}"
            logger.critical(f"SAU - {comment}")
            messagebox.showerror(random_string(), comment)



    #–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
    def apply_settings():
        settings_data = {}
        config_comments_to_save = {}
        valid = True
        need_compilation = False

        for var_name, widget_data in widgets.items():
            value = widget_data["var"].get()
            var_type = widget_data["type"]
            error_label = widget_data["error_label"]
            error_label.config(text="") #–°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
            config_comments_to_save[var_name] = widget_data["comment"]

            if not value and var_type != "bool":
                is_valid = False
                error_message = "–ü–æ–ª–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!"
            elif var_type == "int":
                is_valid, error_message = validate_int_with_limit(value, 99)
            elif var_type == "str_path":
                is_valid, error_message = validate_path(value)
            elif var_type == "str_list":
                is_valid, error_message = validate_string_list(value)
                if is_valid:
                    try:
                        settings_data[var_name] = ast.literal_eval(value)
                    except (SyntaxError, ValueError):
                        is_valid = False
                        error_message = '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–ø–∏—Å–∫–∞/—Å–ª–æ–≤–∞—Ä—è: ["–∑–Ω–∞—á–µ–Ω–∏–µ1", "–∑–Ω–∞—á–µ–Ω–∏–µ2", –∏ —Ç.–¥"] –∏–ª–∏ {"–∫–ª—é—á": "–∑–Ω–∞—á–µ–Ω–∏–µ"}'

            else:
                is_valid, error_message = validate_string(value)

            if not is_valid:
                error_label.config(text=error_message)
                widget_data["widget"].config(foreground="red")
                valid = False
            else:
                widget_data["widget"].config(foreground="black")

            #–°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –≤–∞–ª–∏–¥–Ω—ã
            if is_valid:
                if var_type == "bool":
                    settings_data[var_name] = value == "True"
                elif var_type == "int":
                    settings_data[var_name] = int(value)
                elif var_type == "str_list":
                    #–°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
                    settings_data[var_name] = value 
                else:
                    settings_data[var_name] = value

        if not valid:
            messagebox.showerror(random_string(), "–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞!")
            return

        #–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏
        #for var_name, widget_data in widgets.items():
        #    #–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏
        #    if var_name in ["settings_path", "log_path", "images_path", "clyth", "time_to_restart", "ultimate_load_cpu", "ultimate_load_ram", "reboot_os", "force_software", "animation_default", "bad_process", "exceptions_process"]:
        #        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –º–æ–¥—É–ª—è config
        #        current_config_value = config.__dict__.get(var_name)
        #        # –ü–æ–ª—É—á–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤–∏–¥–∂–µ—Ç–æ–≤ (–ø–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–∞, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ str_list)
        #        new_value = settings_data.get(var_name)

        #        # –î–ª—è str_list –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä '["val1", "val2"]'), –∞ —Å—Ç–∞—Ä–æ–µ - –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ø–∏—Å–∫–æ–º.
        #        # –ü–æ—ç—Ç–æ–º—É –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±–∞ –≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.
        #        if var_name in ["bad_process", "exceptions_proc"]:
        #            current_config_str = str(current_config_value)
        #            # –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (new_value) —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π –∏–∑ Entry-–ø–æ–ª—è
        #            new_value_str = new_value
                    
        #            # –ò–Ω–æ–≥–¥–∞ ast.literal_eval –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Å–ª–æ–≤–∞—Ä–µ–π),
        #            # –ø–æ—ç—Ç–æ–º—É –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ:
        #            # –ü—Ä–∏–≤–æ–¥–∏–º –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∫ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º—É —Å—Ç—Ä–æ–∫–æ–≤–æ–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é (–∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –≤ config.py)
        #            try:
        #                # –°—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–∏–∑ config) -> —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–æ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–ø–∏—Å–∞–Ω–æ)
        #                old_repr = repr(current_config_value)
        #                # –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–∏–∑ Entry) -> —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (—É–∂–µ –≥–æ—Ç–æ–≤–æ)
        #                new_repr = new_value
                        
        #                if old_repr != new_repr:
        #                     need_compilation = True
        #                     break
        #            except Exception as e:
        #                logger.error(f"–û—à–∏–±–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è {var_name}: {e}")
        #                need_compilation = True

        #        # –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é
        #        else:
        #            if current_config_value != new_value:
        #                need_compilation = True
        #                break

        need_compilation = True

        if need_compilation:
            if messagebox.askyesno(random_string(), "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è!\n–°–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å?\n–ü–µ—Ä–µ–¥ —ç—Ç–∏–º –∑–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã."):
                if preparing_for_recompilation(settings_data):
                    messagebox.showinfo(random_string(), "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π\n–ú—ã –±—É–¥–µ–º –∫—Ä–∞–π–Ω–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã –µ—Å–ª–∏ –≤—ã –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Å—Ç–∞–≤–∏—Ç–µ –æ—Ç–∑—ã–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ –Ω–∞–º –ª–æ–≥-—Ñ–∞–π–ª—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ä–∞–¥–∏ –µ—ë —É–ª—É—á—à–µ–Ω–∏—è!\n–£–¥–∞—á–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏!")
                else:
                    messagebox.showerror(random_string(), f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –°—Ç–∞—Ä—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.\n–î–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥ —Ñ–∞–π–ª {config_log_path}, –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.")
        else:
            #–ï—Å–ª–∏ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞, –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            if save_settings(settings_data, config_comments_to_save):
                messagebox.showinfo(random_string(), "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.")



    #–ö–Ω–æ–ø–∫–∏
    button_frame = ttk.Frame(frame) 
    button_frame.pack(pady=5)

    export_button = ttk.Button(button_frame, text="–≠–∫—Å–ø–æ—Ä—Ç", command=export_settings)
    export_button.grid(row=0, column=0, padx=3)

    import_button = ttk.Button(button_frame, text="–ò–º–ø–æ—Ä—Ç", command=import_settings)
    import_button.grid(row=0, column=1, padx=3)

    apply_button = ttk.Button(button_frame, text="–ü—Ä–∏–º–µ–Ω–∏—Ç—å", command=apply_settings)
    apply_button.grid(row=0, column=2, padx=3)
    
    #–û–±–Ω–æ–≤–ª—è–µ–º –≥–µ–æ–º–µ—Ç—Ä–∏—é, —á—Ç–æ–±—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    frame.update_idletasks()
    canvas.config(scrollregion=canvas.bbox("all"))

    window.mainloop()

def SAU():
    extract_archive()
    try:
        settings_mount()
    except Exception as e:
        logger.critical(f"–í–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:\n{e}")

if __name__ == "__main__":
    logger.add(config_log_path, format="{time} {level} {message}", rotation="10 MB", compression="zip")
    SAU()
